<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Observation Components :: Micrometer</title>
    <link rel="canonical" href="https://docs.micrometer.io/micrometer/reference/observation/components.html">
    <link rel="prev" href="introduction.html">
    <link rel="next" href="instrumenting.html">
    <meta name="generator" content="Antora 3.2.0-alpha.2">
    <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/vendor/search.css">
    <link rel="stylesheet" href="../../_/css/vendor/page-search.css">
    <link rel="stylesheet" href="../../_/css/vendor/asciidoctor-tabs.css">

    <meta name="antora-ui-version" content="ab6901c8a69c403cc2392e165de23a5b577a9eb6"> 
    <meta name="version" content="1.12.10">
    <meta name="component" content="micrometer">
    <meta name="latest-version" content="false">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/vnd.microsoft.icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://micrometer.io">
        <img
          id="springlogo"
          class="block light"
          src="../../_/img/micrometer-logo.svg"
          alt="Micrometer"
        />
        <img
          id="springlogo"
          class="block dark"
          src="../../_/img/micrometer-logo-dark.svg"
          alt="Micrometer"
        />
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

      </div>
    </div>
    <label class="theme-toggler">
      <input
        type="checkbox"
        type="checkbox"
        id="switch-theme-checkbox"
        name="switch-theme-checkbox"
      />
      <span class="icon"><svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="moon"
          class="svg-inline--fa fa-moon moon"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 384 512"
        ><path
            fill="currentColor"
            d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"
          ></path>
        </svg>
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="sun"
          class="svg-inline--fa fa-sun sun"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        ><path
            fill="currentColor"
            d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"
          ></path>
        </svg></span>
      <span class="text">light</span>
    </label>
  </nav>
</header>
<script>
!function (theme) {
  if (theme === 'dark') {
    document.getElementById('switch-theme-checkbox').parentElement.classList.add('active')
  }
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'))
</script>
<div class="body">
<div class="nav-container" data-component="micrometer" data-version="1.12.10">
  <aside class="nav">
    <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
<div class="context">
  <span class="title">Micrometer</span>
  <span class="version">1.12.10</span>
  <button class="browse-version" id="browse-version">
    <svg
      height="24px"
      id="Layer_1"
      style="enable-background:new 0 0 512 512;"
      version="1.1"
      viewBox="0 0 512 512"
      width="24px"
      xml:space="preserve"
    ><g><path
          d="M256,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S273.7,224,256,224L256,224z"
        ></path><path
          d="M128.4,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S146,224,128.4,224L128.4,224z"
        ></path><path
          d="M384,224c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S401.7,224,384,224L384,224z"
        ></path></g></svg>
  </button>
  <div class="search">
  <button class="DocSearch-Button search-button">
    <svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_"/>
    </svg>
    <span>Search</span>
    <span class="search-key"></span>
  </button>
</div>
</div><ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../installing.html">Installing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../concepts.html">Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/implementations.html">Supported Monitoring Systems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/meters.html">Meters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/registry.html">Registry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/naming.html">Naming Meters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/meter-filters.html">Meter Filters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/rate-aggregation.html">Rate Aggregation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/counters.html">Counters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/gauges.html">Gauges</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/timers.html">Timers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/distribution-summaries.html">Distribution Summaries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/long-task-timers.html">Long Task Timers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/histogram-quantiles.html">Histograms and Percentiles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../concepts/meter-provider.html">Meter Provider</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../implementations.html">Implementations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/appOptics.html">AppOptics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/atlas.html">Atlas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/azure-monitor.html">Azure Monitor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/cloudwatch.html">CloudWatch</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/datadog.html">Datadog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/dynatrace.html">Dynatrace</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/elastic.html">Elasticsearch</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/ganglia.html">Ganglia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/graphite.html">Graphite</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/humio.html">Humio</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/influx.html">Influx</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/instana.html">Instana</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/jmx.html">JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/kairos.html">KairosDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/new-relic.html">New Relic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/otlp.html">OpenTelemetry Protocol (OTLP)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/prometheus.html">Prometheus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/signalFx.html">SignalFx</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/stackdriver.html">Stackdriver</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/statsD.html">statsD</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../implementations/wavefront.html">Wavefront</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../reference.html">Reference Instrumentations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/cache.html">Cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/commons-pool.html">Commons Pool</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/db.html">Database</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/grpc.html">gRPC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/httpcomponents.html">HttpComponents Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/jetty.html">Jetty and Jersey</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/jvm.html">JVM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/kafka.html">Kafka</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/netty.html">Netty</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/okhttpclient.html">OkHttpClient</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/system.html">System</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../reference/tomcat.html">Tomcat</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../guides.html">Guides</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../guides/console-reporter.html">Passing through to Dropwizard&#8217;s console reporter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../guides/http-sender-resilience4j-retry.html">HttpSender with Resilience4j retry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../guides/custom-meter-registry.html">Custom meter registry</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../contextpropagation.html">Context Propagation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../contextpropagation/installing.html">Installing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../contextpropagation/purpose.html">Purpose</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../contextpropagation/usage.html">Usage</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../observation.html">Micrometer Observation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="installing.html">Installing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link"  href="components.html">Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="instrumenting.html">Instrumenting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="projects.html">Instrumented Projects</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
          <div class="toggle-sm">
            <button id="nav-toggle-2" class="nav-toggle"></button>
          </div>
        </nav>
      </div>
      <div class="nav-collapse">
        <button id="nav-collapse-toggle"><span></span></button>        
      </div>
    </div>
    <div class="nav-resize"></div>
  </aside>
</div>
<script>
!function (sidebar) {
  if (sidebar) {
    document.body.classList.add('nav-sm')
  }
}(localStorage && localStorage.getItem('sidebar') === 'close')
</script><main class="article">
<div class="toolbar" role="navigation">
  <button id="nav-toggle-1" class="nav-toggle"></button>
<div class="search">
  <button class="DocSearch-Button search-button">
    <svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_"/>
    </svg>
    <span>Search</span>
    <span class="search-key"></span>
  </button>
</div>
</div>
  <div class="content">
<aside class="sidebar">
  <div class="content">
    <div
      class="toc"
      data-title="Observation Components"
      data-levels="2"
    >
      <div class="toc-menu"></div>
    </div>
    <div class="sidebar-links">
        <a href="https://github.com/micrometer-metrics/micrometer/blob/v1.12.10/docs/modules/ROOT/pages/observation/components.adoc">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          ><path
              d="m16 2.012 3 3L16.713 7.3l-3-3zM4 14v3h3l8.299-8.287-3-3zm0 6h16v2H4z"
            ></path></svg>
          Edit this Page
        </a>
              <a href="https://github.com/micrometer-metrics/micrometer" title="GitHub">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="512px"
            id="Layer_1"
            version="1.1"
            viewBox="0 0 512 512"
            width="512px"
          ><style type="text/css"><![CDATA[
              .st0{fill-rule:evenodd;clip-rule:evenodd;} ]]></style><g><path
                class="st0"
                d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"
              ></path></g></svg>
          GitHub Project
        </a>
        <a href="https://stackoverflow.com/tags/micrometer">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path
              d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"
            ></path></svg>
          Stack Overflow
        </a>
    </div>
  </div>
</aside>
<article class="doc">
<div class="breadcrumbs-container">
  <nav class="breadcrumbs" aria-label="breadcrumbs">
    <ul>
      <li><a href="../index.html">Micrometer</a></li>
      <li><a href="../observation.html">Micrometer Observation</a></li>
      <li><a href="components.html">Components</a></li>
    </ul>
  </nav>
</div><div class="admonitionblock important latest">
  <table>
    <tbody><tr>
      <td class="icon">
        <i class="fa icon-important" title="Important"></i>
      </td>
      <td class="content">
        <div class="paragraph">
          <p> For the latest stable version, please use <a href="../../observation/components.html">Micrometer 1.13.4</a>!</p>
        </div>
      </td>
    </tr></tbody>
  </table>
</div>
<h1 id="page-title" class="page">Observation Components</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this section we will describe main components related to Micrometer Observation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#micrometer-observation-context">Observation Context</a></p>
</li>
<li>
<p><a href="#micrometer-observation-handler">Observation Handler</a></p>
</li>
<li>
<p><a href="#micrometer-observation-events">Signaling Errors and Arbitrary Events</a></p>
</li>
<li>
<p><a href="#micrometer-observation-convention-example">Observation Convention</a></p>
</li>
<li>
<p><a href="#micrometer-observation-predicates-filters">Observation Predicates and Filters</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Micrometer Observation basic flow</strong></p>
</div>
<div class="paragraph">
<p><code>Observation</code> through <code>ObservationRegistry</code> gets created with a mutable <code>Observation.Context</code>. On each Micrometer Observation lifecycle action (e.g. <code>start()</code>) a corresponding <code>ObservationHandler</code> method is called (e.g. <code>onStart</code>) with the mutable <code>Observation.Context</code> as argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">┌───────────────────┐┌───────┐
│ObservationRegistry││Context│
└┬──────────────────┘└┬──────┘
┌▽────────────────────▽┐
│Observation           │
└┬─────────────────────┘
┌▽──────┐
│Handler│
└───────┘</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Micrometer Observation detailed flow</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">┌───────────────────┐┌───────┐┌─────────────────────┐┌────────────────────┐
│ObservationRegistry││Context││ObservationConvention││ObservationPredicate│
└┬──────────────────┘└┬──────┘└┬────────────────────┘└┬───────────────────┘
┌▽────────────────────▽────────▽──────────────────────▽┐
│Observation                                           │
└┬─────────────────────────────────────────────────────┘
┌▽──────┐
│Handler│
└┬──────┘
┌▽────────────────┐
│ObservationFilter│
└─────────────────┘</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Observation</code> through <code>ObservationRegistry</code> gets created with a mutable <code>Observation.Context</code>. To allow name and key-value customization, an <code>ObservationConvention</code> can be used instead of direct name setting. List of <code>ObservationPredicate</code> is run to verify if an <code>Observation</code> should be created instead of a no-op version. On each <a href="introduction.html" class="xref page">Micrometer Observation lifecycle</a> action (e.g. <code>start()</code>) a corresponding <code>ObservationHandler</code> method is called (e.g. <code>onStart</code>) with the mutable <code>Observation.Context</code> as argument. On <code>Observation</code> stop, before calling the <code>ObservationHandler</code> <code>onStop</code> methods, list of <code>ObservationFilter</code> is called to optionally further modify the <code>Observation.Context</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="micrometer-observation-context"><a class="anchor" href="#micrometer-observation-context"></a>Observation.Context</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To pass information between the instrumented code and the handler (or between handler methods, such as <code>onStart</code> and <code>onStop</code>), you can use an <code>Observation.Context</code>. An <code>Observation.Context</code> is a <code>Map</code>-like container that can store values for you while your handler can access the data inside the context.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="micrometer-observation-handler"><a class="anchor" href="#micrometer-observation-handler"></a>Observation Handler</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Observation Handler allows adding capabilities to existing instrumentations (i.e. you instrument code once and depending on the Observation Handler setup, different actions, such as create spans, metrics, logs will happen). In other words, if you have instrumented code and want to add metrics around it, it&#8217;s enough for you to register an Observation Handler in the Observation Registry to add that behaviour.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s look at the following example of adding a timer behaviour to an existing instrumentation.</p>
</div>
<div class="paragraph">
<p>A popular way to record Observations is storing the start state in a <code>Timer.Sample</code> instance and stopping it when the event has ended.
Recording such measurements could look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MeterRegistry registry = new SimpleMeterRegistry();
Timer.Sample sample = Timer.start(registry);
try {
    // do some work here
}
finally {
    sample.stop(Timer.builder("my.timer").register(registry));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to have more observation options (such as metrics and tracing&#8201;&#8212;&#8201;already included in Micrometer&#8201;&#8212;&#8201;plus anything else you will plug in), you need to rewrite that code to use the <code>Observation</code> API.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ObservationRegistry registry = ObservationRegistry.create();
Observation.createNotStarted("my.operation", registry).observe(this::doSomeWorkHere);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Starting with Micrometer 1.10, you can register "handlers" (<code>ObservationHandler</code> instances) that are notified about the <a href="introduction.html" class="xref page">lifecycle event</a> of an observation (for example, you can run custom code when an observation is started or stopped).
Using this feature lets you add tracing capabilities to your existing metrics instrumentation (see: <code>DefaultTracingObservationHandler</code>). The implementation of these handlers does not need to be tracing related. It is completely up to you how you are going to implement them (for example, you can add logging capabilities).</p>
</div>
<div class="sect2">
<h3 id="micrometer-observation-handler-example"><a class="anchor" href="#micrometer-observation-handler-example"></a>ObservationHandler Example</h3>
<div class="paragraph">
<p>Based on this, we can implement a simple handler that lets the users know about its invocations by printing them out to <code>stdout</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">static class SimpleHandler implements ObservationHandler&lt;Observation.Context&gt; {

    @Override
    public void onStart(Observation.Context context) {
        System.out.println("START " + "data: " + context.get(String.class));
    }

    @Override
    public void onError(Observation.Context context) {
        System.out.println("ERROR " + "data: " + context.get(String.class) + ", error: " + context.getError());
    }

    @Override
    public void onEvent(Observation.Event event, Observation.Context context) {
        System.out.println("EVENT " + "event: " + event + " data: " + context.get(String.class));
    }

    @Override
    public void onStop(Observation.Context context) {
        System.out.println("STOP  " + "data: " + context.get(String.class));
    }

    @Override
    public boolean supportsContext(Observation.Context handlerContext) {
        // you can decide if your handler should be invoked for this context object or
        // not
        return true;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to register the handler to the <code>ObservationRegistry</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ObservationRegistry registry = ObservationRegistry.create();
registry.observationConfig().observationHandler(new SimpleHandler());</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use the <code>observe</code> method to instrument your codebase:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ObservationRegistry registry = ObservationRegistry.create();
Observation.Context context = new Observation.Context().put(String.class, "test");
// using a context is optional, so you can call createNotStarted without it:
// Observation.createNotStarted(name, registry)
Observation.createNotStarted("my.operation", () -&gt; context, registry).observe(this::doSomeWorkHere);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also take full control of the scoping mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ObservationRegistry registry = ObservationRegistry.create();
Observation.Context context = new Observation.Context().put(String.class, "test");
// using a context is optional, so you can call start without it:
// Observation.start(name, registry)
Observation observation = Observation.start("my.operation", () -&gt; context, registry);
try (Observation.Scope scope = observation.openScope()) {
    doSomeWorkHere();
}
catch (Exception ex) {
    observation.error(ex); // and don't forget to handle exceptions
    throw ex;
}
finally {
    observation.stop();
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="micrometer-observation-events"><a class="anchor" href="#micrometer-observation-events"></a>Signaling Errors and Arbitrary Events</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When <strong>instrumenting</strong> code, we might want to signal that an error happened or signal that an arbitrary event happened. The observation API lets us do so through its <code>error</code> and <code>event</code> methods.</p>
</div>
<div class="paragraph">
<p>One use-case for signaling an arbitrary event can be attaching annotations to <code>Span</code> for Distributed Tracing, but you can also process them however you want in your own handler, such as emitting log events based on them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ObservationRegistry registry = ObservationRegistry.create();
Observation observation = Observation.start("my.operation", registry);
try (Observation.Scope scope = observation.openScope()) {
    observation.event(Observation.Event.of("my.event", "look what happened"));
    doSomeWorkHere();
}
catch (Exception exception) {
    observation.error(exception);
    throw exception;
}
finally {
    observation.stop();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="micrometer-observation-convention-example"><a class="anchor" href="#micrometer-observation-convention-example"></a>Observation.ObservationConvention Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When <strong>instrumenting</strong> code, we want to provide sensible defaults for tags, but also we want to let users easily change those defaults. An <code>ObservationConvention</code> interface is a description of what tags and name we should create for an <code>Observation.Context</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">/**
 * A dedicated {@link Observation.Context} used for taxing.
 */
class TaxContext extends Observation.Context {

    private final String taxType;

    private final String userId;

    TaxContext(String taxType, String userId) {
        this.taxType = taxType;
        this.userId = userId;
    }

    String getTaxType() {
        return taxType;
    }

    String getUserId() {
        return userId;
    }

}

/**
 * An example of an {@link ObservationFilter} that will add the key-values to all
 * observations.
 */
class CloudObservationFilter implements ObservationFilter {

    @Override
    public Observation.Context map(Observation.Context context) {
        return context.addLowCardinalityKeyValue(KeyValue.of("cloud.zone", CloudUtils.getZone()))
            .addHighCardinalityKeyValue(KeyValue.of("cloud.instance.id", CloudUtils.getCloudInstanceId()));
    }

}

/**
 * An example of an {@link ObservationConvention} that renames the tax related
 * observations and adds cloud related tags to all contexts. When registered via the
 * `ObservationRegistry#observationConfig#observationConvention` will override the
 * default {@link TaxObservationConvention}. If the user provides a custom
 * implementation of the {@link TaxObservationConvention} and passes it to the
 * instrumentation, the custom implementation wins.
 *
 * In other words
 *
 * 1) Custom {@link ObservationConvention} has precedence 2) If no custom convention
 * was passed and there's a matching {@link GlobalObservationConvention} it will be
 * picked 3) If there's no custom, nor matching global convention, the default
 * {@link ObservationConvention} will be used
 *
 * If you need to add some key-values regardless of the used
 * {@link ObservationConvention} you should use an {@link ObservationFilter}.
 */
class GlobalTaxObservationConvention implements GlobalObservationConvention&lt;TaxContext&gt; {

    // this will be applicable for all tax contexts - it will rename all the tax
    // contexts
    @Override
    public boolean supportsContext(Observation.Context context) {
        return context instanceof TaxContext;
    }

    @Override
    public String getName() {
        return "global.tax.calculate";
    }

}

// Interface for an ObservationConvention related to calculating Tax
interface TaxObservationConvention extends ObservationConvention&lt;TaxContext&gt; {

    @Override
    default boolean supportsContext(Observation.Context context) {
        return context instanceof TaxContext;
    }

}

/**
 * Default convention of tags related to calculating tax. If no user one or global
 * convention will be provided then this one will be picked.
 */
class DefaultTaxObservationConvention implements TaxObservationConvention {

    @Override
    public KeyValues getLowCardinalityKeyValues(TaxContext context) {
        return KeyValues.of(TAX_TYPE.withValue(context.getTaxType()));
    }

    @Override
    public KeyValues getHighCardinalityKeyValues(TaxContext context) {
        return KeyValues.of(USER_ID.withValue(context.getUserId()));
    }

    @Override
    public String getName() {
        return "default.tax.name";
    }

}

/**
 * If micrometer-docs-generator is used, we will automatically generate documentation
 * for your observations. Check this URL
 * https://github.com/micrometer-metrics/micrometer-docs-generator#documentation for
 * setup example and read the {@link ObservationDocumentation} javadocs.
 */
enum TaxObservationDocumentation implements ObservationDocumentation {

    CALCULATE {
        @Override
        public Class&lt;? extends ObservationConvention&lt;? extends Observation.Context&gt;&gt; getDefaultConvention() {
            return DefaultTaxObservationConvention.class;
        }

        @Override
        public String getContextualName() {
            return "calculate tax";
        }

        @Override
        public String getPrefix() {
            return "tax";
        }

        @Override
        public KeyName[] getLowCardinalityKeyNames() {
            return TaxLowCardinalityKeyNames.values();
        }

        @Override
        public KeyName[] getHighCardinalityKeyNames() {
            return TaxHighCardinalityKeyNames.values();
        }
    };

    enum TaxLowCardinalityKeyNames implements KeyName {

        TAX_TYPE {
            @Override
            public String asString() {
                return "tax.type";
            }
        }

    }

    enum TaxHighCardinalityKeyNames implements KeyName {

        USER_ID {
            @Override
            public String asString() {
                return "tax.user.id";
            }
        }

    }

}

/**
 * Our business logic that we want to observe.
 */
class TaxCalculator {

    private final ObservationRegistry observationRegistry;

    // If the user wants to override the default they can override this. Otherwise,
    // it will be {@code null}.
    @Nullable
    private final TaxObservationConvention observationConvention;

    TaxCalculator(ObservationRegistry observationRegistry,
            @Nullable TaxObservationConvention observationConvention) {
        this.observationRegistry = observationRegistry;
        this.observationConvention = observationConvention;
    }

    void calculateTax(String taxType, String userId) {
        // Create a new context
        TaxContext taxContext = new TaxContext(taxType, userId);
        // Create a new observation
        TaxObservationDocumentation.CALCULATE
            .observation(this.observationConvention, new DefaultTaxObservationConvention(), () -&gt; taxContext,
                    this.observationRegistry)
            // Run the actual logic you want to observe
            .observe(this::calculateInterest);
    }

    private void calculateInterest() {
        // do some work
    }

}

/**
 * Example of user changing the default conventions.
 */
class CustomTaxObservationConvention extends DefaultTaxObservationConvention {

    @Override
    public KeyValues getLowCardinalityKeyValues(TaxContext context) {
        return super.getLowCardinalityKeyValues(context)
            .and(KeyValue.of("additional.low.cardinality.tag", "value"));
    }

    @Override
    public KeyValues getHighCardinalityKeyValues(TaxContext context) {
        return KeyValues.of("this.would.override.the.default.high.cardinality.tags", "value");
    }

    @Override
    public String getName() {
        return "tax.calculate";
    }

}

/**
 * A utility class to set cloud related arguments.
 */
static class CloudUtils {

    static String getZone() {
        return "...";
    }

    static String getCloudInstanceId() {
        return "...";
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a more detailed example, see the full usage example of an instrumentation together with overriding the default tags.</p>
</div>
<div class="paragraph">
<p>The following example puts the whole code together:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Registry setup
ObservationRegistry observationRegistry = ObservationRegistry.create();
// add metrics
SimpleMeterRegistry registry = new SimpleMeterRegistry();
observationRegistry.observationConfig().observationHandler(new DefaultMeterObservationHandler(registry));
observationRegistry.observationConfig().observationConvention(new GlobalTaxObservationConvention());
// This will be applied to all observations
observationRegistry.observationConfig().observationFilter(new CloudObservationFilter());

// In this case we're overriding the default convention by passing the custom one
TaxCalculator taxCalculator = new TaxCalculator(observationRegistry, new CustomTaxObservationConvention());
// run the logic you want to observe
taxCalculator.calculateTax("INCOME_TAX", "1234567890");</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="micrometer-observation-predicates-filters"><a class="anchor" href="#micrometer-observation-predicates-filters"></a>Observation Predicates and Filters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To globally disable observations under given conditions, you can use an <code>ObservationPredicate</code>. To mutate the <code>Observation.Context</code>, you can use an <code>ObservationFilter</code>.</p>
</div>
<div class="paragraph">
<p>To set these, call the <code>ObservationRegistry#observationConfig()#observationPredicate()</code> and <code>ObservationRegistry#observationConfig()#observationFilter()</code> methods, respectively.</p>
</div>
<div class="paragraph">
<p>The following example uses predicates and filters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Example using a metrics handler - we need a MeterRegistry
MeterRegistry meterRegistry = new SimpleMeterRegistry();

// Create an ObservationRegistry
ObservationRegistry registry = ObservationRegistry.create();
// Add predicates and filter to the registry
registry.observationConfig()
    // ObservationPredicate can decide whether an observation should be
    // ignored or not
    .observationPredicate((observationName, context) -&gt; {
        // Creates a noop observation if observation name is of given name
        if ("to.ignore".equals(observationName)) {
            // Will be ignored
            return false;
        }
        if (context instanceof MyContext) {
            // For the custom context will ignore a user with a given name
            return !"user to ignore".equals(((MyContext) context).getUsername());
        }
        // Will proceed for all other types of context
        return true;
    })
    // ObservationFilter can modify a context
    .observationFilter(context -&gt; {
        // We're adding a low cardinality key to all contexts
        context.addLowCardinalityKeyValue(KeyValue.of("low.cardinality.key", "low cardinality value"));
        if (context instanceof MyContext) {
            // We're mutating a specific type of a context
            MyContext myContext = (MyContext) context;
            myContext.setUsername("some username");
            // We want to remove a high cardinality key value
            return myContext.removeHighCardinalityKeyValue("high.cardinality.key.to.ignore");
        }
        return context;
    })
    // Example of using metrics
    .observationHandler(new DefaultMeterObservationHandler(meterRegistry));

// Observation will be ignored because of the name
then(Observation.start("to.ignore", () -&gt; new MyContext("don't ignore"), registry)).isSameAs(Observation.NOOP);
// Observation will be ignored because of the entries in MyContext
then(Observation.start("not.to.ignore", () -&gt; new MyContext("user to ignore"), registry))
    .isSameAs(Observation.NOOP);

// Observation will not be ignored...
MyContext myContext = new MyContext("user not to ignore");
myContext.addHighCardinalityKeyValue(KeyValue.of("high.cardinality.key.to.ignore", "some value"));
Observation.createNotStarted("not.to.ignore", () -&gt; myContext, registry).observe(this::yourCodeToMeasure);
// ...and will have the context mutated
then(myContext.getLowCardinalityKeyValue("low.cardinality.key").getValue()).isEqualTo("low cardinality value");
then(myContext.getUsername()).isEqualTo("some username");
then(myContext.getHighCardinalityKeyValues())
    .doesNotContain(KeyValue.of("high.cardinality.key.to.ignore", "some value"));</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="micrometer-observation-annotations"><a class="anchor" href="#micrometer-observation-annotations"></a>Using Annotations With @Observed</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have turned on Aspect Oriented Programming (for example, by using <code>org.aspectj:aspectjweaver</code>), you can use the <code>@Observed</code> annotation to create observations. You can put that annotation either on a method to observe it or on a class to observe all the methods in it.</p>
</div>
<div class="paragraph">
<p>The following example shows an <code>ObservedService</code> that has an annotation on a method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">static class ObservedService {

    @Observed(name = "test.call", contextualName = "test#call",
            lowCardinalityKeyValues = { "abc", "123", "test", "42" })
    void call() {
        System.out.println("call");
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following test asserts whether the proper observation gets created when a proxied <code>ObservedService</code> instance gets called:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// create a test registry
TestObservationRegistry registry = TestObservationRegistry.create();
// add a system out printing handler
registry.observationConfig().observationHandler(new ObservationTextPublisher());

// create a proxy around the observed service
AspectJProxyFactory pf = new AspectJProxyFactory(new ObservedService());
pf.addAspect(new ObservedAspect(registry));

// make a call
ObservedService service = pf.getProxy();
service.call();

// assert that observation has been properly created
TestObservationRegistryAssert.assertThat(registry)
        .hasSingleObservationThat()
        .hasBeenStopped()
        .hasNameEqualTo("test.call")
        .hasContextualNameEqualTo("test#call")
        .hasLowCardinalityKeyValue("abc", "123")
        .hasLowCardinalityKeyValue("test", "42")
        .hasLowCardinalityKeyValue("class", ObservedService.class.getName())
        .hasLowCardinalityKeyValue("method", "call").doesNotHaveError();</code></pre>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="introduction.html">Introduction</a></span>
  <span class="next"><a href="instrumenting.html">Instrumenting</a></span>
</nav>
</article>  </div>
</main>
<div class="modal micromodal-slide" id="modal-versions" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true">
            <main class="modal__content" id="modal-versions-content">
              <button data-micromodal-close class="modal-versions-close">
                <svg width="28px" height="28px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1h{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}</style></defs><title/><g id="cross"><line class="cls-1h" x1="7" x2="25" y1="7" y2="25"/><line class="cls-1h" x1="7" x2="25" y1="25" y2="7"/></g></svg>
              </button>
              <div class="colset">
                <div class="col-left">

                  <ul class="nav-versions">
                      <li class="component">
                        <div>
                          <a class="title" href="../../index.html">Micrometer</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../index.html">
      1.13.4
    </a>
  </li>
  <li class="version">
    <a href="../index.html">
      1.12.10
    </a>
  </li>
</ul>                        </div>
                        <div class="version-item">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Preview
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../1.14/index.html">
      1.14.0-M2
    </a>
  </li>
</ul>                        </div>
                        <div class="version-item">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Snapshot
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../1.14-SNAPSHOT/index.html">
      1.14.0-SNAPSHOT
    </a>
  </li>
  <li class="version">
    <a href="../../1.13-SNAPSHOT/index.html">
      1.13.5-SNAPSHOT
    </a>
  </li>
  <li class="version">
    <a href="../../1.12-SNAPSHOT/index.html">
      1.12.11-SNAPSHOT
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                  </ul>
                </div>
                <div class="col-right">
                  <ul>
                    <li>
                      Related Documentation
                      <ul>
                        <li><a href="https://docs.micrometer.io/context-propagation/reference/">Context Propagation</a></li>
                        <li><a href="https://docs.micrometer.io/micrometer/reference/">Micrometer</a></li>
                        <li><a href="https://docs.micrometer.io/tracing/reference/">Tracing</a></li>
                        <li><a href="https://docs.micrometer.io/micrometer-docs-generator/reference/">Docs Generator</a></li>
                        <li><a href="https://micrometer.io/docs/">Docs Archive (1.11 and earlier)</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </main>
        </div>
    </div>
</div></div>
<footer class="footer flex">
    <div id="spring-links">
        <img class="light" id="springlogo" src="../../_/img/micrometer-logo.svg" alt="Micrometer">
        <img class="dark" id="springlogo" src="../../_/img/micrometer-logo-dark.svg" alt="Micrometer">
        <p class="smallest antialiased">© <script>var d = new Date();
        document.write(d.getFullYear());</script> <a href="https://www.vmware.com/">VMware</a>, Inc. or its affiliates. <a href="https://www.vmware.com/help/legal.html">Terms of Use</a> • <a href="https://www.vmware.com/help/privacy.html" rel="noopener noreferrer">Privacy</a></p>
    </div>
    <div id="social-icons" class="flex jc-between">
        <a href="https://github.com/micrometer-metrics" title="GitHub"><svg id="github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><path class="cls-1" d="M38,0a38,38,0,1,0,38,38A38,38,0,0,0,38,0Z"/></g><path class="cls-2" d="M38,15.59A22.95,22.95,0,0,0,30.71,60.3c1.15.21,1.57-.5,1.57-1.11s0-2,0-3.9c-6.38,1.39-7.73-3.07-7.73-3.07A6.09,6.09,0,0,0,22,48.86c-2.09-1.42.15-1.39.15-1.39a4.81,4.81,0,0,1,3.52,2.36c2,3.5,5.37,2.49,6.67,1.91a4.87,4.87,0,0,1,1.46-3.07c-5.09-.58-10.45-2.55-10.45-11.34a8.84,8.84,0,0,1,2.36-6.15,8.29,8.29,0,0,1,.23-6.07s1.92-.62,6.3,2.35a21.82,21.82,0,0,1,11.49,0c4.38-3,6.3-2.35,6.3-2.35a8.29,8.29,0,0,1,.23,6.07,8.84,8.84,0,0,1,2.36,6.15c0,8.81-5.37,10.75-10.48,11.32a5.46,5.46,0,0,1,1.56,4.25c0,3.07,0,5.54,0,6.29s.42,1.33,1.58,1.1A22.94,22.94,0,0,0,38,15.59Z"/></svg></a>
        <a href="https://twitter.com/micrometerio" title="Twitter"><svg id="twitter-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><circle class="cls-1" cx="37.97" cy="37.97" r="37.97"/><path id="Twitter-2" data-name="Twitter" class="cls-2" d="M55.2,22.73a15.43,15.43,0,0,1-4.88,1.91,7.56,7.56,0,0,0-5.61-2.49A7.78,7.78,0,0,0,37,30a7.56,7.56,0,0,0,.2,1.79,21.63,21.63,0,0,1-15.84-8.23,8,8,0,0,0,2.37,10.52,7.66,7.66,0,0,1-3.48-1v.09A7.84,7.84,0,0,0,26.45,41a7.54,7.54,0,0,1-2,.28A7.64,7.64,0,0,1,23,41.09a7.71,7.71,0,0,0,7.18,5.47,15.21,15.21,0,0,1-9.55,3.37,15.78,15.78,0,0,1-1.83-.11,21.41,21.41,0,0,0,11.78,3.54c14.13,0,21.86-12,21.86-22.42,0-.34,0-.68,0-1a15.67,15.67,0,0,0,3.83-4.08,14.9,14.9,0,0,1-4.41,1.24A7.8,7.8,0,0,0,55.2,22.73Z"/></svg></a>
    </div>
</footer>
<script src="../../_/js/vendor/import.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/asciidoctor-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>

<div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
            <main class="modal__content" id="modal-1-content">
                <div id="searchbox"></div>
                <div id="counter"></div>
                <div class="search-by">
                    <a target="_blank" rel="noopener noreferrer" href="https://www.algolia.com/" aria-label="Search by Algolia">
                        <img class="light" width="140" src="../../_/img/algolia-light.svg" />
                        <img class="dark" width="140" src="../../_/img/algolia-dark.svg" />
                    </a>
                </div>
                <div id="hits"></div>
            </main>
        </div>
    </div>
</div>

<script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.17.0/dist/algoliasearch-lite.umd.js" integrity="sha256-Lf9DrpGmcRip6OQzbcL6lnvNmoZNSKpyQX5pMlwatWE=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.54.1/dist/instantsearch.production.min.js" integrity="sha256-xYsZPDeNjYNTBWLvqD2Lxe98hOxcDgOHyMPfz4tVAbk=" crossorigin="anonymous"></script>
<script async id="search-script" src="../../_/js/vendor/search.js" data-app-id="R3TXPRVDPR" data-api-key="cbcaa86034c1961b2c0c73bd0c274862" data-index-name="micrometer" data-stylesheet="../../_/css/vendor/search.css" data-page-version="1.12.10" data-page-component="micrometer"></script>
  </body>
</html>
